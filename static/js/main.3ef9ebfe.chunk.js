(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{21:function(e,t,a){},26:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(8),l=a(10),o=a(9),s=a(11),m=a(0),i=a.n(m),u=a(14),c=(a(31),a(21),a(12)),d=a(23),h=a(15),p=a(5),f=a(24),E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).submitForm=function(e){e.preventDefault(),a.props.submitFilter(a.state)},a.changeOption=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value),(function(){console.log(a.state)}))},a.state={customer:"",year:"",month:""},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(f.a,null,i.a.createElement(p.a,{onSubmit:this.submitForm},i.a.createElement(p.a.Row,null,i.a.createElement(p.a.Group,{lg:"4"},i.a.createElement(p.a.Label,null,"Customer"),i.a.createElement(p.a.Control,{as:"select",id:"customer",name:"customer",value:this.state.customer,onChange:this.changeOption},this.props.customerOption.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))),i.a.createElement(p.a.Group,{lg:"2"},i.a.createElement(p.a.Label,null,"Year"),i.a.createElement(p.a.Control,{as:"select",id:"year",name:"year",value:this.state.year,onChange:this.changeOption},this.props.yearOption.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))),i.a.createElement(p.a.Group,{lg:"2"},i.a.createElement(p.a.Label,null,"Month"),i.a.createElement(p.a.Control,{as:"select",id:"month",name:"month",value:this.state.month,onChange:this.changeOption},this.props.monthOption.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))),i.a.createElement(p.a.Group,{lg:"4"},i.a.createElement(p.a.Label,null,"\xa0"),i.a.createElement(p.a.Control,{as:"button",type:"submit",width:"250",id:"submit"},"Submit")))))}}]),t}(m.Component),b=a(16),y=a(18),v=function(e){return console.log(e),i.a.createElement("div",null,i.a.createElement(b.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"3",width:"450px"},"\xa0"),i.a.createElement("th",null,i.a.createElement(y.a,{variant:"primary"},"Total Customer Rewards : ",e.totalRewards))))),i.a.createElement(b.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"light"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Transaction"),i.a.createElement("th",null,"Date"),i.a.createElement("th",null,"Amount Spend"),i.a.createElement("th",null,"REWARD"))),e.data.map((function(e,t){return console.log(e),i.a.createElement("tbody",{key:t,id:t},i.a.createElement("tr",null,i.a.createElement("td",null,e.store),i.a.createElement("td",null,e.date),i.a.createElement("td",null,e.amountSpend),i.a.createElement("td",null,e.points)))}))),i.a.createElement(b.a,null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"3",width:"450"},"\xa0"),i.a.createElement("th",null,i.a.createElement(y.a,{variant:"info"},"Total Monthly Rewards : ",e.totalMonthlyRewards))))))},O=a(19),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).submitFilter=function(e){var t=a.props.data,n=t.map((function(e){var t=0,a=e.amountSpend-100;a>0&&(t+=2*a+50),e.amountSpend>50&&e.amountSpend<100&&(t+=1*e.amountSpend-50);var n=new Date(e.date).getMonth();return Object(d.a)({},e,{points:t,month:n})})),r=n.filter((function(t){return t.firstName+" "+t.lastName===e.customer})).reduce((function(e,t){return e+t.points}),0),l=(t=n.filter((function(t){var n=new Date(t.date).getFullYear(),r=t.firstName+" "+t.lastName,l=new Date(t.date).getMonth()+1;return Date.parse(n)===Date.parse(e.year)&&r===e.customer&&Date.parse(l)===Date.parse(a.state.month.indexOf(e.month))}))).reduce((function(e,t){return e+t.points}),0);a.setState({filterdItems:Object(c.a)(t),totalMonthlyRewards:l,totalRewards:r})},a.state={loading:!1,data:a.props.data,customer:[],year:[],month:["","Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],filterdItems:[],totalMonthlyRewards:0,totalRewards:0},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data.map((function(e){return{fullName:e.firstName+" "+e.lastName,year:new Date(e.date).getFullYear()}})),a=Object(c.a)(new Set(t.map((function(e){return e.fullName}))));a.unshift("");var n=Object(c.a)(new Set(t.map((function(e){return e.year}))));n.unshift(""),setTimeout((function(){e.setState({customer:Object(c.a)(a),year:Object(c.a)(n),loading:!0},console.log(e.state.customerdata))}),1e3)}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.loading?i.a.createElement("div",null,i.a.createElement("h4",null,"Customer Transactions.."),i.a.createElement(E,{data:this.state.data,customerOption:this.state.customer,yearOption:this.state.year,monthOption:this.state.month,submitFilter:this.submitFilter}),0!==this.state.filterdItems.length?i.a.createElement(v,{data:this.state.filterdItems,totalMonthlyRewards:this.state.totalMonthlyRewards,totalRewards:this.state.totalRewards}):i.a.createElement(O.a,{variant:"warning"},"No data Found..!! Please select and submit")):i.a.createElement(O.a,{variant:"primary"},"Loading....!!"))}}]),t}(m.Component),N=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(o.a)(t).call(this))).state={transaction:[{firstName:"John",lastName:"Doe",store:"Walmart",amountSpend:120,date:"12/1/2019"},{firstName:"John",lastName:"Doe",store:"Taget",amounSpend:50,date:"12/1/2019"},{firstName:"John",lastName:"Doe",store:"StainMart",amountSpend:90,date:"12/1/2019"},{firstName:"John",lastName:"Doe",store:"Walmart",amountSpend:120,date:"11/1/2019"},{firstName:"John",lastName:"Doe",store:"Taget",amounSpend:70,date:"11/1/2019"},{firstName:"John",lastName:"Doe",store:"StainMart",amountSpend:50,date:"11/1/2019"},{firstName:"Micheal",lastName:"Taylor",store:"Walmart",amountSpend:120,date:"11/15/2019"},{firstName:"Micheal",lastName:"Taylor",store:"Target",amountSpend:60,date:"11/16/2019"},{firstName:"Micheal",lastName:"Taylor",store:"StainMart",amountSpend:30,date:"11/18/2019"},{firstName:"Micheal",lastName:"Taylor",store:"Walmart",amountSpend:120,date:"12/15/2019"},{firstName:"Micheal",lastName:"Taylor",store:"Target",amountSpend:80,date:"12/16/2019"},{firstName:"Micheal",lastName:"Taylor",store:"StainMart",amountSpend:50,date:"12/18/2019"}]},e}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(g,{data:this.state.transaction}))}}]),t}(m.Component);Object(u.render)(i.a.createElement(N,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.3ef9ebfe.chunk.js.map